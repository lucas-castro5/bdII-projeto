1) PROBLEMAS PARA CRIAR AS VIEWS

A seguir, 3 problemas (um para cada tipo de view exigida):

VIEW 1 — Simples (seleção direta)

Problema:
A coordenação quer visualizar rapidamente uma lista de todos os alunos ativos com nome, matrícula e turma atual, sem precisar fazer SELECT complexo toda vez.

Baseado nas tabelas:

aluno

usuario

aluno_turma

turma

Tarefa:
Criar uma view que mostre:

nome do aluno

matrícula

status

nome da turma

ano letivo

VIEW 2 — View com JOIN + agregação

Problema:
A direção precisa de um relatório mostrando quantos alunos cada professor atende, baseado nas disciplinas que ele ministra.

Baseado nas tabelas:

professor

usuario

professor_disciplina

disciplina

aluno_turma

turma

Tarefa:
Criar uma view que traga para cada professor:

nome do professor

quantidade de disciplinas que ele dá

quantidade total de alunos nas turmas dessas disciplinas

VIEW 3 — View com filtro dinâmico / subconsulta

Problema:
O coordenador quer ver alunos que estão com média abaixo de 6, considerando a média das notas de prova e trabalho.

Baseado nas tabelas:

nota_prova

prova_online

nota_trabalho

trabalho

disciplina

aluno

usuario

Tarefa:
Criar uma view que retorne:

aluno

disciplina

média final (subconsulta)

situação (Abaixo da média / OK)

2) PROBLEMAS PARA CRIAR AS TRIGGERS

Aqui estão 3 problemas práticos para criar gatilhos:

TRIGGER 1 — Auditoria (obrigatório)

Problema:
A instituição precisa registrar qualquer alteração nas notas (prova ou trabalho) para fins de auditoria educacional.

Baseado nas tabelas:

nota_prova

nota_trabalho

Tarefa:
Criar a tabela:
tb_auditoria_notas(id, tabela, id_registro, operacao, valor_antigo, valor_novo, data_hora)

E criar um trigger que:

quando uma nota for ALTERADA (UPDATE)

registre o antes/depois em tb_auditoria_notas

TRIGGER 2 — Regra de negócio (impedir nota inválida)

Problema:
Notas menores que 0 ou maiores que o valor máximo da prova/trabalho são inconsistentes, mas alguns professores estão digitando errado.

Baseado nas tabelas:

nota_prova

prova_online

nota_trabalho

trabalho

Tarefa:
Criar um trigger que antes de inserir/atualizar:

verifica se a nota está dentro do intervalo 0 ≤ nota ≤ valor_maximo

caso contrário, impedirá a operação com erro personalizado

TRIGGER 3 — Registro de criação de atividade

Problema:
O coordenador quer saber qual professor criou cada atividade, mas às vezes o professor esquece de registrar.

Baseado nas tabelas:

atividade

professor_disciplina

Tarefa:
Criar um trigger que:

ao inserir atividade

verifique se o professor está associado à disciplina

se NÃO estiver, a atividade não pode ser criada

3) PROBLEMAS PARA FUNCTIONS

Agora 3 problemas ideais para functions — todos reais dentro da sua plataforma EAD.

FUNCTION 1 — Calcular média do aluno em uma disciplina

Problema:
Professores precisam consultar rapidamente a média de um aluno em uma disciplina.

Baseado nas tabelas:

nota_prova

nota_trabalho

prova_online

trabalho

Tarefa:
Criar uma function com parâmetros:
(IN idAluno, IN idDisciplina, OUT mediaFinal)

Que retorne:
(media das 3 notas definidas para a disciplina)

FUNCTION 2 — Gerar relatório de desempenho da turma

Problema:
O coordenador quer saber quantos alunos foram aprovados em cada turma.

Baseado nas tabelas:

aluno_turma

aluno

usuario

Tarefa:
Function que receba o id_turma e retorne:

total de alunos

quantos foram aprovados

quantos foram reprovados

percentual de aprovação

Pode retornar uma tabela ou valores OUT.

FUNCTION 3 — Inserir atividade com verificação

Problema:
Às vezes os coordenadores criam atividades com data_limite antes da data_publicacao, o que gera erro no sistema.

Baseado nas tabelas:

atividade

Tarefa:
Criar uma function de inserção que:

receba os dados da atividade

valide se data_limite > data_publicacao

apenas insira se a regra for respeitada

retorne mensagem de sucesso ou erro
